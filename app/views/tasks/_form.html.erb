<% if @task.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(@task.errors.count, "error") %> prohibited this task from being saved:</h2>
    <ul>
    <% @task.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>
<%= form_for(@task) do |f| %>
  <fieldset>
    <%= f.label :name %>
    <%= f.text_field :name, :required => true, :class => 'text_field' %>
  </fieldset>
  <fieldset>
    <%= f.label :due_at %>
    <%= f.text_field :due_at, :class => 'text_field' %>
  </fieldset>
  <fieldset>
    <%= f.label :project %>
    <%= f.select :project_id, @projects.map { |project| [project.name, project.id] }, :include_blank => true %>
  </fieldset>
  <fieldset>
    <%= f.label :context %>
    <%= f.select :context_id, @contexts.map { |context| [context.name, context.id] }, :include_blank => true %>
  </fieldset>
  <fieldset>
    <%= f.label :done %>
    <%= f.check_box :done %>
  </fieldset>
  <fieldset>
    <%= f.submit %>
  </fieldset>
<% end %>